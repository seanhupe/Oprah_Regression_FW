{"name": "test_click_and_verify_all_main_section_links", "status": "failed", "statusDetails": {"message": "AssertionError: One or more main section links failed during navigation verification:\n  FAILURE: Link 'Books' (URL: /app/books.html) failed: Page title expected to be 're.compile('Books')'\n  Actual value: Oprah's Book Club: Complete Reading List & Reviews \n  Call log:\n    - PageAssertions.to_have_title with timeout 10000ms\n    - waiting for locator(\":root\")\n      13 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths\">…</html>\n         - unexpected value \"Oprah's Book Club: Complete Reading List & Reviews\"\n  \n  FAILURE: Link 'Fashion' (URL: /app/fashion-beauty.html) failed: Page title expected to be 're.compile('Fashion')'\n  Actual value: Style Tips and Advice - Oprah.com \n  Call log:\n    - PageAssertions.to_have_title with timeout 10000ms\n    - waiting for locator(\":root\")\n      14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\n         - unexpected value \"Style Tips and Advice - Oprah.com\"\n  \n  FAILURE: Link 'Help/FAQ' (URL: /app/helpfaq.html) failed: Page title expected to be 're.compile('Help/FAQ')'\n  Actual value: The Oprah Winfrey Network Help Center - FAQs | OWN \n  Call log:\n    - PageAssertions.to_have_title with timeout 10000ms\n    - waiting for locator(\":root\")\n      14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\n         - unexpected value \"The Oprah Winfrey Network Help Center - FAQs | OWN\"\n  \nassert not ['FAILURE: Link \\'Books\\' (URL: /app/books.html) failed: Page title expected to be \\'re.compile(\\'Books\\')\\'\\nActual value: Oprah\\'s Book Club: Complete Reading List & Reviews \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    13 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths\">…</html>\\n       - unexpected value \"Oprah\\'s Book Club: Complete Reading List & Reviews\"\\n', 'FAILURE: Link \\'Fashion\\' (URL: /app/fashion-beauty.html) failed: Page title expected to be \\'re.compile(\\'Fashion\\')\\'\\nActual value: Style Tips and Advice - Oprah.com \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    14 × locator resolved to <html class... cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\\n       - unexpected value \"Style Tips and Advice - Oprah.com\"\\n', 'FAILURE: Link \\'Help/FAQ\\' (URL: /app/helpfaq.html) failed: Page title expected to be \\'re.compile(\\'Help/FAQ\\')\\'\\nActual value: The Oprah Winfrey Network Help Center - FAQs | OWN \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\\n       - unexpected value \"The Oprah Winfrey Network Help Center - FAQs | OWN\"\\n']", "trace": "page = <Page url='https://www.oprah.com/index.html'>, base_url = 'https://www.oprah.com'\n\n    @allure.feature(\"Flyout Menu - Main Sections\")\n    @allure.story(\"Iterate and click all Main Section links to verify navigation\")\n    def test_click_and_verify_all_main_section_links(page: Page, base_url: str):\n        \"\"\"\n        This test iterates through all main section links in the flyout menu,\n        clicks each one, and verifies that the navigation is successful.\n        \"\"\"\n        oprah_home_page = OprahHomePage(page)\n    \n        print(f\"\\n--- Test: Navigating to homepage on {base_url} ---\")\n        with allure.step(f\"Navigating to homepage and opening the flyout menu on {base_url}\"):\n            oprah_home_page.goto_homepage(base_url)\n            print(\"--- Test: Homepage loaded. Opening flyout menu ---\")\n            oprah_home_page.open_flyout_menu()\n            print(\"--- Test: Flyout menu opened ---\")\n            page.wait_for_timeout(3000)  # Wait 3 seconds to see the opened menu\n    \n        with allure.step(\"Extracting all main section links for iteration\"):\n            links_to_test = oprah_home_page.get_main_section_links_data()\n            assert links_to_test, \"FAILURE: No main section links found to test.\"\n            print(f\"--- Test: Found {len(links_to_test)} links: {links_to_test} ---\")\n            allure.attach(str(links_to_test), name=\"Links to be Tested\", attachment_type=allure.attachment_type.JSON)\n    \n        failed_navigations = []\n    \n        with allure.step(\"Iterating and clicking each link, then verifying navigation\"):\n            for index, link_data in enumerate(links_to_test):\n                link_text = link_data[\"text\"]\n                link_expected_url_part = link_data[\"url\"]  # This is the full href from the page\n    \n                print(f\"\\n--- Test: Clicking link {index + 1}: '{link_text}' (URL: {link_expected_url_part}) ---\")\n                with allure.step(f\"Testing link {index + 1}: '{link_text}'\"):\n                    try:\n                        # Click the link using the Page Object method\n                        oprah_home_page.click_main_section_link(link_text)\n                        print(f\"--- Test: Clicked '{link_text}'. Waiting for navigation... ---\")\n    \n                        page.wait_for_timeout(2000)  # Wait 2 seconds to see the new page load\n    \n                        # --- CHANGE THESE LINES: Use re.compile for flexible string matching ---\n                        expect(page).to_have_url(re.compile(link_expected_url_part), timeout=10000)\n                        expect(page).to_have_title(re.compile(link_text), timeout=10000)\n                        # ----------------------------------------------------------------------\n    \n                        print(f\"--- Test: Successfully navigated to {page.url} with title: {page.title()} ---\")\n    \n                        allure.attach(f\"Successfully navigated to URL: {page.url} with title: {page.title()}\",\n                                      name=f\"Success for {link_text}\", attachment_type=allure.attachment_type.TEXT)\n    \n                        screenshot_name = f\"screenshot_navigated_to_{link_text.replace(' ', '_').replace('/', '_')}.png\"\n                        oprah_home_page.take_screenshot(path=screenshot_name)\n                        allure.attach.file(screenshot_name, name=f\"Navigated to '{link_text}'\",\n                                           attachment_type=allure.attachment_type.PNG)\n                        if os.path.exists(screenshot_name):\n                            os.remove(screenshot_name)\n    \n                    except Exception as e:\n                        error_message = f\"FAILURE: Link '{link_text}' (URL: {link_expected_url_part}) failed: {e}\"\n                        print(f\"!!! {error_message} !!!\")\n                        allure.attach(error_message, name=f\"Failed: {link_text}\",\n                                      attachment_type=allure.attachment_type.TEXT)\n                        failed_navigations.append(error_message)\n    \n                        screenshot_name = f\"FAILED_screenshot_on_{link_text.replace(' ', '_').replace('/', '_')}.png\"\n                        oprah_home_page.take_screenshot(path=screenshot_name)\n                        allure.attach.file(screenshot_name, name=f\"FAILED State for '{link_text}'\",\n                                           attachment_type=allure.attachment_type.PNG)\n                        if os.path.exists(screenshot_name):\n                            os.remove(screenshot_name)\n    \n                    finally:\n                        print(f\"--- Test: Returning to homepage for next link ---\")\n                        try:\n                            oprah_home_page.goto_homepage(base_url)\n                            oprah_home_page.open_flyout_menu()\n                            page.wait_for_timeout(1000)\n                        except Exception as recovery_e:\n                            print(f\"!!! CRITICAL: Failed to return to homepage/flyout: {recovery_e} !!!\")\n                            allure.attach(\n                                f\"Critical: Failed to return to homepage/flyout after '{link_text}' test: {recovery_e}\",\n                                name=\"Recovery Failure\", attachment_type=allure.attachment_type.TEXT)\n                            pytest.fail(\n                                f\"CRITICAL: Failed to return to homepage/flyout after '{link_text}' test. Subsequent tests might be unreliable.\")\n    \n>       assert not failed_navigations, f\"One or more main section links failed during navigation verification:\\n\" + \"\\n\".join(\n            failed_navigations)\nE       AssertionError: One or more main section links failed during navigation verification:\nE         FAILURE: Link 'Books' (URL: /app/books.html) failed: Page title expected to be 're.compile('Books')'\nE         Actual value: Oprah's Book Club: Complete Reading List & Reviews \nE         Call log:\nE           - PageAssertions.to_have_title with timeout 10000ms\nE           - waiting for locator(\":root\")\nE             13 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths\">…</html>\nE                - unexpected value \"Oprah's Book Club: Complete Reading List & Reviews\"\nE         \nE         FAILURE: Link 'Fashion' (URL: /app/fashion-beauty.html) failed: Page title expected to be 're.compile('Fashion')'\nE         Actual value: Style Tips and Advice - Oprah.com \nE         Call log:\nE           - PageAssertions.to_have_title with timeout 10000ms\nE           - waiting for locator(\":root\")\nE             14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\nE                - unexpected value \"Style Tips and Advice - Oprah.com\"\nE         \nE         FAILURE: Link 'Help/FAQ' (URL: /app/helpfaq.html) failed: Page title expected to be 're.compile('Help/FAQ')'\nE         Actual value: The Oprah Winfrey Network Help Center - FAQs | OWN \nE         Call log:\nE           - PageAssertions.to_have_title with timeout 10000ms\nE           - waiting for locator(\":root\")\nE             14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\nE                - unexpected value \"The Oprah Winfrey Network Help Center - FAQs | OWN\"\nE         \nE       assert not ['FAILURE: Link \\'Books\\' (URL: /app/books.html) failed: Page title expected to be \\'re.compile(\\'Books\\')\\'\\nActual value: Oprah\\'s Book Club: Complete Reading List & Reviews \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    13 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths\">…</html>\\n       - unexpected value \"Oprah\\'s Book Club: Complete Reading List & Reviews\"\\n', 'FAILURE: Link \\'Fashion\\' (URL: /app/fashion-beauty.html) failed: Page title expected to be \\'re.compile(\\'Fashion\\')\\'\\nActual value: Style Tips and Advice - Oprah.com \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    14 × locator resolved to <html class... cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\\n       - unexpected value \"Style Tips and Advice - Oprah.com\"\\n', 'FAILURE: Link \\'Help/FAQ\\' (URL: /app/helpfaq.html) failed: Page title expected to be \\'re.compile(\\'Help/FAQ\\')\\'\\nActual value: The Oprah Winfrey Network Help Center - FAQs | OWN \\nCall log:\\n  - PageAssertions.to_have_title with timeout 10000ms\\n  - waiting for locator(\":root\")\\n    14 × locator resolved to <html class=\" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths csstransformspreserv…>…</html>\\n       - unexpected value \"The Oprah Winfrey Network Help Center - FAQs | OWN\"\\n']\n\ntests\\test_oprah_website.py:99: AssertionError"}, "description": "\nThis test iterates through all main section links in the flyout menu,\nclicks each one, and verifies that the navigation is successful.\n", "steps": [{"name": "Navigating to homepage and opening the flyout menu on https://www.oprah.com", "status": "passed", "start": 1748468515754, "stop": 1748468521773}, {"name": "Extracting all main section links for iteration", "status": "passed", "attachments": [{"name": "Links to be Tested", "source": "70a2ff9f-fc27-44ac-a0f5-8d125aca38dd-attachment.json", "type": "application/json"}], "start": 1748468521773, "stop": 1748468522083}, {"name": "Iterating and clicking each link, then verifying navigation", "status": "passed", "steps": [{"name": "Testing link 1: 'Watch OWN'", "status": "passed", "attachments": [{"name": "Success for Watch OWN", "source": "f829337e-87e4-4014-9abd-4cc052da9b2f-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Watch OWN'", "source": "36ed1a2b-6296-4e0c-92a0-3997463d51af-attachment.png", "type": "image/png"}], "start": 1748468522084, "stop": 1748468529463}, {"name": "Testing link 2: 'TV Schedule'", "status": "passed", "attachments": [{"name": "Success for TV Schedule", "source": "eae56891-50d5-401f-9d8c-731ab208e2e6-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'TV Schedule'", "source": "998a11a1-5948-4782-ab41-0cb868ab4fb9-attachment.png", "type": "image/png"}], "start": 1748468529463, "stop": 1748468536447}, {"name": "Testing link 3: 'Podcasts'", "status": "passed", "attachments": [{"name": "Success for Podcasts", "source": "7680dd07-e7a0-4c4e-b201-91832300a314-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Podcasts'", "source": "2e1b1999-ac4c-4a20-b8f8-0d637d763e55-attachment.png", "type": "image/png"}], "start": 1748468536448, "stop": 1748468543368}, {"name": "Testing link 4: 'Newsletters'", "status": "passed", "attachments": [{"name": "Success for Newsletters", "source": "a0fcac4a-c897-41ba-bdfb-0885333b2ddd-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Newsletters'", "source": "7c2a41a1-1904-4537-a2c2-3f2449adea54-attachment.png", "type": "image/png"}], "start": 1748468543369, "stop": 1748468550363}, {"name": "Testing link 5: 'Books'", "status": "passed", "attachments": [{"name": "Failed: Books", "source": "661322ff-279e-46ce-97df-7c76c426c571-attachment.txt", "type": "text/plain"}, {"name": "FAILED State for 'Books'", "source": "2d35b2bf-bd41-405d-af7c-7d0c4c5a4318-attachment.png", "type": "image/png"}], "start": 1748468550364, "stop": 1748468567469}, {"name": "Testing link 6: 'OWN Your Health'", "status": "passed", "attachments": [{"name": "Success for OWN Your Health", "source": "61a306b1-22a8-4695-9f4f-77b480d47a09-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'OWN Your Health'", "source": "43995148-a2b2-4710-9048-e96071834193-attachment.png", "type": "image/png"}], "start": 1748468567470, "stop": 1748468574520}, {"name": "Testing link 7: 'Inspiration'", "status": "passed", "attachments": [{"name": "Success for Inspiration", "source": "2b3364fe-57ac-4e25-8ee7-a09eace451f5-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Inspiration'", "source": "9082bdf6-24d6-49b2-8814-1324ce0cd1ef-attachment.png", "type": "image/png"}], "start": 1748468574520, "stop": 1748468581462}, {"name": "Testing link 8: 'Food'", "status": "passed", "attachments": [{"name": "Success for Food", "source": "7a61e04a-d7ce-4de3-b160-d0ee7489d6ad-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Food'", "source": "68d9d4c2-9f8e-4b7f-8c4b-6890b9e4da28-attachment.png", "type": "image/png"}], "start": 1748468581463, "stop": 1748468588455}, {"name": "Testing link 9: 'Home'", "status": "passed", "attachments": [{"name": "Success for Home", "source": "5b836246-47a9-47d9-b9ec-b145b58a67a2-attachment.txt", "type": "text/plain"}, {"name": "Navigated to 'Home'", "source": "da1a2025-cbbc-4e2e-92af-1000b8e8515b-attachment.png", "type": "image/png"}], "start": 1748468588456, "stop": 1748468595501}, {"name": "Testing link 10: 'Fashion'", "status": "passed", "attachments": [{"name": "Failed: Fashion", "source": "47444026-dd8e-440c-8603-2ffe0694d4f4-attachment.txt", "type": "text/plain"}, {"name": "FAILED State for 'Fashion'", "source": "c664717d-7859-49c0-955e-4c1f8ac4563a-attachment.png", "type": "image/png"}], "start": 1748468595501, "stop": 1748468612542}, {"name": "Testing link 11: 'Help/FAQ'", "status": "passed", "attachments": [{"name": "Failed: Help/FAQ", "source": "ecd71cd6-945b-4c3e-a6d9-5f2c0e12e36b-attachment.txt", "type": "text/plain"}, {"name": "FAILED State for 'Help/FAQ'", "source": "59e5efa2-c72a-4b43-8a92-e30457cb8300-attachment.png", "type": "image/png"}], "start": 1748468612542, "stop": 1748468629492}], "start": 1748468522083, "stop": 1748468629492}], "start": 1748468515753, "stop": 1748468629493, "uuid": "2a561f6f-cb73-4231-99ba-c9f2ac2e6fb9", "historyId": "1dd7e4b04e4e17c43f8880f6f116d3f2", "testCaseId": "1dd7e4b04e4e17c43f8880f6f116d3f2", "fullName": "tests.test_oprah_website#test_click_and_verify_all_main_section_links", "labels": [{"name": "story", "value": "Iterate and click all Main Section links to verify navigation"}, {"name": "feature", "value": "Flyout Menu - Main Sections"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_oprah_website"}, {"name": "host", "value": "Dell-Laptop"}, {"name": "thread", "value": "900-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_oprah_website"}]}